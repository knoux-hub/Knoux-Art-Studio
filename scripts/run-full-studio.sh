#!/usr/bin/env bash
set -euo pipefail

echo "ğŸ¬ KNOUX FULL MEDIA STUDIO - LAUNCHER"
echo "====================================="

echo ""
echo "1ï¸âƒ£  Starting Backend Services..."
npm run backend &

echo "2ï¸âƒ£  Starting Frontend Development Server..."
npm run dev &

echo "3ï¸âƒ£  Starting Electron App..."
npm run electron &

echo "4ï¸âƒ£  Opening Dashboard..."
sleep 3
dashboard_url="http://localhost:3000/studio-dashboard"
if command -v xdg-open >/dev/null 2>&1; then
  xdg-open "$dashboard_url" >/dev/null 2>&1 || true
elif command -v open >/dev/null 2>&1; then
  open "$dashboard_url" >/dev/null 2>&1 || true
fi
echo "Dashboard: $dashboard_url"

echo "5ï¸âƒ£  Monitoring Services..."
echo ""
echo "ğŸ“Š SERVICES STATUS:"
echo "   â€¢ Backend:    http://localhost:3000/api/health"
echo "   â€¢ Frontend:   http://localhost:3000"
echo "   â€¢ Electron:   Running in background"
echo "   â€¢ Dashboard:  http://localhost:3000/studio-dashboard"
echo ""
echo "ğŸ¯ QUICK ACTIONS:"
echo "   Ctrl+C to stop all services"
echo ""
echo "ğŸ“‹ Available Routes:"
echo "   /studio-dashboard    - Main Studio"
echo "   /photo-editor       - Photo Editor"
echo "   /video-studio       - Video Editor"
echo "   /body-editor        - Body Editor"
echo "   /makeup-studio      - Makeup Studio"
echo "   /templates          - Template Gallery"
echo ""
echo "ğŸš€ Studio is ready! Happy editing! ğŸ¨"
